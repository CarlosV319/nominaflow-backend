<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recibo de Haberes</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
        }

        @page {
            size: A4 landscape;
            margin: 1cm;
        }

        /* Custom font sizes from requirements */
        .text-body {
            font-size: 10px;
        }

        .text-title {
            font-size: 12px;
            font-weight: 700;
        }

        .bg-header {
            background-color: #F3F4F6;
        }

        /* gray-100/slate-100 */
    </style>
</head>

<body class="bg-white text-slate-700 max-w-[297mm] mx-auto">

    <!-- MAIN CONTAINER - GRID A4 WIDE -->
    <div class="w-full h-full flex flex-col border border-slate-400">

        <!-- HEADER -->
        <header class="flex justify-between border-b border-slate-300 p-4">
            <!-- Left: Company Info -->
            <div class="flex flex-col gap-1 w-2/3">
                <h1 class="text-xl font-bold text-slate-800 uppercase">{{company.razonSocial}}</h1>
                <p class="text-body font-normal text-slate-500">CUIT: <span
                        class="font-semibold text-slate-700">{{company.cuit}}</span></p>
                <p class="text-body font-normal text-slate-500 w-3/4 truncate">{{company.domicilio}}</p>
            </div>

            <!-- Right: Receipt Label Box -->
            <div
                class="w-1/3 border border-slate-300 rounded bg-header p-3 flex flex-col items-center justify-center gap-1 shadow-sm">
                <h2 class="text-title uppercase tracking-wider text-slate-800">Recibo de Haberes</h2>
                <div class="flex gap-4 mt-1">
                    <div class="text-center">
                        <span class="block text-[9px] uppercase text-slate-500 font-bold">Período</span>
                        <span
                            class="block text-lg font-bold text-slate-900 leading-none">{{periodo.mes}}/{{periodo.anio}}</span>
                    </div>
                    <div class="w-px bg-slate-400 h-8"></div>
                    <div class="text-center">
                        <span class="block text-[9px] uppercase text-slate-500 font-bold">N° Recibo</span>
                        <span class="block text-lg font-bold text-slate-900 leading-none">#{{nroRecibo}}</span>
                    </div>
                </div>
            </div>
        </header>

        <!-- SUB-HEADER: Employee Grid -->
        <section class="border-b border-slate-300">
            <div class="grid grid-cols-4 divide-x divide-slate-300">

                <!-- Col 1 -->
                <div class="flex flex-col">
                    <div
                        class="bg-header px-2 py-1 text-[9px] font-bold uppercase text-slate-600 border-b border-slate-200">
                        Legajo</div>
                    <div class="px-2 py-2 text-title text-slate-800">{{employee.legajo}}</div>

                    <div
                        class="bg-header px-2 py-1 text-[9px] font-bold uppercase text-slate-600 border-y border-slate-200">
                        Tarea / Cargo</div>
                    <div class="px-2 py-2 text-body font-semibold text-slate-800 truncate" title="{{employee.cargo}}">
                        {{employee.cargo}}</div>
                </div>

                <!-- Col 2 -->
                <div class="flex flex-col">
                    <div
                        class="bg-header px-2 py-1 text-[9px] font-bold uppercase text-slate-600 border-b border-slate-200">
                        Apellido y Nombre</div>
                    <div class="px-2 py-2 text-title text-slate-800 truncate">{{employee.fullName}}</div>

                    <div
                        class="bg-header px-2 py-1 text-[9px] font-bold uppercase text-slate-600 border-y border-slate-200">
                        CBU</div>
                    <div class="px-2 py-2 text-body font-mono text-slate-800">{{employee.cbu}}</div>
                </div>

                <!-- Col 3 -->
                <div class="flex flex-col">
                    <div
                        class="bg-header px-2 py-1 text-[9px] font-bold uppercase text-slate-600 border-b border-slate-200">
                        C.U.I.L.</div>
                    <div class="px-2 py-2 text-body font-bold text-slate-800">{{employee.cuil}}</div>

                    <div
                        class="bg-header px-2 py-1 text-[9px] font-bold uppercase text-slate-600 border-y border-slate-200">
                        Banco</div>
                    <div class="px-2 py-2 text-body font-semibold text-slate-800 truncate">{{employee.bancoInfo}}</div>
                </div>

                <!-- Col 4 -->
                <div class="flex flex-col">
                    <div
                        class="bg-header px-2 py-1 text-[9px] font-bold uppercase text-slate-600 border-b border-slate-200">
                        Fecha Ingreso</div>
                    <div class="px-2 py-2 text-body font-bold text-slate-800">{{employee.fechaIngreso}}</div>

                    <div
                        class="bg-header px-2 py-1 text-[9px] font-bold uppercase text-slate-600 border-y border-slate-200">
                        Último Depósito</div>
                    <div class="px-2 py-2 text-body text-slate-800">{{employee.fechaUltimoDeposito}}</div>
                </div>

            </div>
        </section>

        <!-- BODY: Concepts Table -->
        <div class="flex-grow">
            <table class="w-full border-collapse">
                <thead class="bg-header border-b border-slate-300">
                    <tr class="text-[10px] uppercase text-slate-600">
                        <th class="px-3 py-1.5 text-left w-16 font-bold border-r border-slate-300">Código</th>
                        <th class="px-3 py-1.5 text-left font-bold border-r border-slate-300">Concepto</th>
                        <th class="px-3 py-1.5 text-center w-12 font-bold border-r border-slate-300">Unid.</th>
                        <th class="px-3 py-1.5 text-right w-24 font-bold border-r border-slate-300">Haberes</th>
                        <th class="px-3 py-1.5 text-right w-24 font-bold border-r border-slate-300">No Remun.</th>
                        <th class="px-3 py-1.5 text-right w-24 font-bold">Deducciones</th>
                    </tr>
                </thead>
                <tbody class="text-body text-slate-700 divide-y divide-slate-100">
                    {{#each items}}
                    <tr class="hover:bg-slate-50">
                        <td class="px-3 py-1 border-r border-slate-200 text-slate-500 font-mono">{{this.codigo}}</td>
                        <td class="px-3 py-1 border-r border-slate-200 font-medium">{{this.concepto}}</td>
                        <td class="px-3 py-1 border-r border-slate-200 text-center">{{#if
                            this.unidades}}{{this.unidades}}{{/if}}</td>
                        <td class="px-3 py-1 border-r border-slate-200 text-right font-mono">{{#if
                            this.isRemunerativo}}{{fmtCurrency this.montoRemunerativo}}{{/if}}</td>
                        <td class="px-3 py-1 border-r border-slate-200 text-right font-mono">{{#if
                            this.isNoRemunerativo}}{{fmtCurrency this.montoNoRemunerativo}}{{/if}}</td>
                        <td class="px-3 py-1 text-right font-mono text-red-600">{{#if this.isDeduccion}}{{fmtCurrency
                            this.montoDeduccion}}{{/if}}</td>
                    </tr>
                    {{/each}}

                    <!-- Fila relleno para asegurar altura mínima visual -->
                    <tr class="h-auto w-full"></tr>
                </tbody>
            </table>
        </div>

        <!-- FOOTER: Totals & Signatures -->
        <footer class="mt-auto border-t-2 border-slate-800 bg-white">

            <!-- Totals Row -->
            <div class="grid grid-cols-12 divide-x divide-slate-300 border-b border-slate-300">
                <div class="col-span-6 px-4 py-2 flex items-center bg-zinc-50">
                    <span class="text-[9px] font-bold uppercase text-slate-500 mr-2">Son Pesos:</span>
                    <span class="text-[10px] font-bold italic text-slate-800">{{numberToWords totals.neto}}</span>
                </div>

                <div class="col-span-2 px-2 py-2 flex flex-col items-end justify-center bg-gray-50">
                    <span class="text-[9px] font-bold uppercase text-slate-500">Total Bruto</span>
                    <span class="text-title font-bold text-slate-800">{{fmtCurrency totals.bruto}}</span>
                </div>

                <div class="col-span-2 px-2 py-2 flex flex-col items-end justify-center bg-gray-50">
                    <span class="text-[9px] font-bold uppercase text-slate-500">Total Descuentos</span>
                    <span class="text-title font-bold text-red-600">{{fmtCurrency totals.descuentos}}</span>
                </div>

                <div class="col-span-2 px-2 py-2 flex flex-col items-center justify-center bg-slate-800 text-white">
                    <span class="text-[9px] font-bold uppercase opacity-80">Neto a Cobrar</span>
                    <span class="text-lg font-bold">{{fmtCurrency totals.neto}}</span>
                </div>
            </div>

            <!-- Signatures -->
            <div class="grid grid-cols-2 gap-20 p-8 pt-12">
                <div class="border-t border-dashed border-slate-400 pt-2 text-center relative">
                    <p class="text-[10px] font-bold uppercase text-slate-400">Firma del Empleador</p>
                    <p class="text-[9px] text-slate-400">Aclaración y Sello</p>
                </div>
                <div class="border-t border-dashed border-slate-400 pt-2 text-center relative">
                    <p class="text-[10px] font-bold uppercase text-slate-400">Firma del Empleado</p>
                    <p class="text-[9px] text-slate-400">Conformidad</p>
                </div>
            </div>

            <div class="pb-2 text-center">
                <p class="text-[9px] text-slate-400">Recibo generado electrónicamente por NominaFlow - Original (Ley
                    20.744)</p>
            </div>

        </footer>

    </div>

</body>

</html>